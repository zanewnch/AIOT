# AIOT è…³æœ¬å·¥å…·

é€™å€‹ç›®éŒ„åŒ…å«äº† AIOT é …ç›®çš„å„ç¨®å¯¦ç”¨è…³æœ¬å·¥å…·ã€‚

## ğŸ“‹ è…³æœ¬åˆ—è¡¨

### ğŸ›ï¸ manage-microservices.sh - å¾®æœå‹™ç®¡ç†è…³æœ¬

åŠŸèƒ½å®Œæ•´çš„å¾®æœå‹™ç®¡ç†å·¥å…·ï¼Œæä¾›åˆ†éšæ®µå•Ÿå‹•ã€å¥åº·æª¢æŸ¥ã€æœå‹™ç™¼ç¾ç­‰åŠŸèƒ½ã€‚

#### ä½¿ç”¨æ–¹æ³•

```bash
# ä¸€éµå•Ÿå‹•æ‰€æœ‰æœå‹™
./scripts/manage-microservices.sh start-all

# åˆ†éšæ®µå•Ÿå‹• (æ›´ç´°ç²’åº¦æ§åˆ¶)
./scripts/manage-microservices.sh start-infra      # åªå•Ÿå‹•åŸºç¤è¨­æ–½
./scripts/manage-microservices.sh start-gateway    # å•Ÿå‹• API Gateway
./scripts/manage-microservices.sh start-services   # å•Ÿå‹•å¾®æœå‹™

# ç›£æ§æœå‹™ (å¯é¸)
./scripts/manage-microservices.sh start-monitoring

# ç®¡ç†å‘½ä»¤
./scripts/manage-microservices.sh status           # æœå‹™ç‹€æ…‹
./scripts/manage-microservices.sh logs [service]   # æŸ¥çœ‹æ—¥èªŒ
./scripts/manage-microservices.sh stop             # åœæ­¢æœå‹™
./scripts/manage-microservices.sh restart          # é‡å•Ÿæœå‹™
./scripts/manage-microservices.sh clean            # æ¸…ç†è³‡æº
```

### ğŸ” validate-build.sh - èªæ³•é©—è­‰è…³æœ¬

ç”¨æ–¼é©—è­‰æ‰€æœ‰å¾®æœå‹™å’Œå‰ç«¯é …ç›®çš„èªæ³•æ­£ç¢ºæ€§ï¼Œé€šéåŸ·è¡Œ `npm run build` ä¾†æª¢æŸ¥ç·¨è­¯éŒ¯èª¤ã€‚

#### åŠŸèƒ½ç‰¹é»

- âœ… **å…¨è‡ªå‹•æª¢æŸ¥**ï¼šä¸€éµæª¢æŸ¥æ‰€æœ‰é …ç›®çš„èªæ³•
- ğŸ“Š **è©³ç´°å ±å‘Š**ï¼šé¡¯ç¤ºæˆåŠŸ/å¤±æ•—çµ±è¨ˆå’Œè©³ç´°ä¿¡æ¯
- â° **è¶…æ™‚ä¿è­·**ï¼šé˜²æ­¢æ§‹å»ºéç¨‹å¡ä½ï¼ˆ5åˆ†é˜è¶…æ™‚ï¼‰
- ğŸ“¦ **è‡ªå‹•å®‰è£ä¾è³´**ï¼šå¦‚æœ node_modules ä¸å­˜åœ¨æœƒè‡ªå‹•åŸ·è¡Œ npm install
- ğŸ¯ **å–®é …ç›®æ¨¡å¼**ï¼šå¯ä»¥åªæª¢æŸ¥ç‰¹å®šé …ç›®
- ğŸŒˆ **å½©è‰²è¼¸å‡º**ï¼šæ¸…æ™°çš„è¦–è¦ºåé¥‹

#### æª¢æŸ¥çš„é …ç›®

- `microServices/rbac` - RBAC èªè­‰æˆæ¬Šæœå‹™
- `microServices/drone` - ç„¡äººæ©Ÿç®¡ç†æœå‹™  
- `microServices/feSetting` - ç”¨æˆ¶åå¥½æœå‹™
- `fe` - React å‰ç«¯æ‡‰ç”¨

#### ä½¿ç”¨æ–¹æ³•

```bash
# åŸºæœ¬ç”¨æ³•ï¼šæª¢æŸ¥æ‰€æœ‰é …ç›®
cd /home/user/GitHub/AIOT
./scripts/validate-build.sh

# åªæª¢æŸ¥ç‰¹å®šé …ç›®
./scripts/validate-build.sh -s rbac        # æª¢æŸ¥ RBAC æœå‹™
./scripts/validate-build.sh -s drone       # æª¢æŸ¥ Drone æœå‹™
./scripts/validate-build.sh -s feSetting   # æª¢æŸ¥ FeSetting æœå‹™
./scripts/validate-build.sh -s fe          # æª¢æŸ¥å‰ç«¯é …ç›®

# é¡¯ç¤ºå¹«åŠ©ä¿¡æ¯
./scripts/validate-build.sh --help

# è©³ç´°è¼¸å‡ºæ¨¡å¼
./scripts/validate-build.sh --verbose
```

#### è¼¸å‡ºç¤ºä¾‹

```bash
$ ./scripts/validate-build.sh

============================================================
ğŸš€ AIOT èªæ³•é©—è­‰è…³æœ¬é–‹å§‹åŸ·è¡Œ
ğŸ“… é–‹å§‹æ™‚é–“: Thu Jan  1 12:00:00 UTC 2024
============================================================
ğŸ¯ å…¨é …ç›®é©—è­‰æ¨¡å¼

============================================================
ğŸ”¨ é–‹å§‹æ§‹å»º: microServices/rbac
ğŸ“‚ ç•¶å‰ç›®éŒ„: /home/user/GitHub/AIOT/microServices/rbac
ğŸš€ åŸ·è¡Œ npm run build...
âœ… microServices/rbac æ§‹å»ºæˆåŠŸ

============================================================
ğŸ”¨ é–‹å§‹æ§‹å»º: microServices/drone
ğŸ“‚ ç•¶å‰ç›®éŒ„: /home/user/GitHub/AIOT/microServices/drone
ğŸš€ åŸ·è¡Œ npm run build...
âœ… microServices/drone æ§‹å»ºæˆåŠŸ

... (å…¶ä»–é …ç›®)

============================================================
ğŸ“Š æ§‹å»ºå ±å‘Š
============================================================
âœ… æˆåŠŸé …ç›® (4):
  âœ“ microServices/rbac
  âœ“ microServices/drone
  âœ“ microServices/feSetting
  âœ“ fe

============================================================
ğŸ“ˆ çµ±è¨ˆä¿¡æ¯:
  ç¸½é …ç›®æ•¸: 4
  æˆåŠŸ: 4
  å¤±æ•—: 0
  æˆåŠŸç‡: 100%

ğŸ‰ æ‰€æœ‰é …ç›®æ§‹å»ºæˆåŠŸï¼èªæ³•æª¢æŸ¥é€šéï¼
```

#### éŒ¯èª¤è™•ç†

è…³æœ¬æœƒè‡ªå‹•è™•ç†ä»¥ä¸‹æƒ…æ³ï¼š

- é …ç›®ä¸å­˜åœ¨
- package.json ä¸å­˜åœ¨
- æ²’æœ‰ build è…³æœ¬
- ä¾è³´æœªå®‰è£
- æ§‹å»ºè¶…æ™‚
- æ§‹å»ºå¤±æ•—

#### æ³¨æ„äº‹é …

1. **é¦–æ¬¡é‹è¡Œ**ï¼šå¦‚æœé …ç›®æ²’æœ‰ node_modulesï¼Œè…³æœ¬æœƒè‡ªå‹•åŸ·è¡Œ `npm install`
2. **æ§‹å»ºæ™‚é–“**ï¼šå®Œæ•´æª¢æŸ¥å¯èƒ½éœ€è¦å¹¾åˆ†é˜æ™‚é–“ï¼Œç‰¹åˆ¥æ˜¯é¦–æ¬¡é‹è¡Œæ™‚
3. **ä¾è³´è¦æ±‚**ï¼šéœ€è¦ Node.js å’Œ npm ç’°å¢ƒ
4. **è¶…æ™‚è¨­ç½®**ï¼šæ¯å€‹é …ç›®æ§‹å»ºæœ€å¤šç­‰å¾… 5 åˆ†é˜

#### å¸¸è¦‹ç”¨é€”

- **æäº¤å‰æª¢æŸ¥**ï¼šç¢ºä¿æ‰€æœ‰ä»£ç¢¼èªæ³•æ­£ç¢º
- **CI/CD é›†æˆ**ï¼šå¯ä»¥é›†æˆåˆ°è‡ªå‹•åŒ–æµç¨‹ä¸­
- **é–‹ç™¼èª¿è©¦**ï¼šå¿«é€Ÿç™¼ç¾èªæ³•å•é¡Œ
- **ä¾è³´é©—è­‰**ï¼šç¢ºä¿æ‰€æœ‰ä¾è³´æ­£å¸¸å®‰è£

## ğŸ›  é–‹ç™¼æ–°è…³æœ¬

å¦‚æœéœ€è¦æ·»åŠ æ–°çš„è…³æœ¬å·¥å…·ï¼š

1. åœ¨ `scripts/` ç›®éŒ„å‰µå»ºæ–°è…³æœ¬
2. è¨­ç½®åŸ·è¡Œæ¬Šé™ï¼š`chmod +x script-name.sh`
3. æ›´æ–°æ­¤ README æ–‡æª”
4. éµå¾ªç¾æœ‰çš„ä»£ç¢¼é¢¨æ ¼å’ŒéŒ¯èª¤è™•ç†æ¨¡å¼

## ğŸ¤ è²¢ç»

å¦‚æœä½ æœ‰æ”¹é€²å»ºè­°æˆ–ç™¼ç¾å•é¡Œï¼Œæ­¡è¿ï¼š

1. æäº¤ Issue
2. å‰µå»º Pull Request
3. èˆ‡åœ˜éšŠè¨è«–æ–°åŠŸèƒ½éœ€æ±‚