2025-08-04 09:14:04.294 [AIOT-BE] ERROR: Error finding all role-permission associations: RoleModel is not associated to RolePermissionModel! {"name":"SequelizeEagerLoadingError","stack":"SequelizeEagerLoadingError: RoleModel is not associated to RolePermissionModel!\n    at Function._getIncludedAssociation (/app/be/node_modules/sequelize/src/model.js:742:13)\n    at Function._validateIncludedElement (/app/be/node_modules/sequelize/src/model.js:646:53)\n    at <anonymous> (/app/be/node_modules/sequelize/src/model.js:542:37)\n    at Array.map (<anonymous>)\n    at Function._validateIncludedElements (/app/be/node_modules/sequelize/src/model.js:537:39)\n    at Function.findAll (/app/be/node_modules/sequelize/src/model.js:1794:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at RolePermissionRepository.findAll (/app/be/src/repo/RolePermissionRepo.ts:316:28)\n    at RoleToPermissionService.getAllRolePermissions (/app/be/src/services/RoleToPermissionService.ts:584:37)\n    at RoleToPermissionController.getRolePermissions (/app/be/src/controllers/rbac/RoleToPermissionController.ts:128:44)"}
2025-08-04 09:14:04.295 [AIOT-BE] ERROR: Error getting all role permissions: RoleModel is not associated to RolePermissionModel! {"name":"SequelizeEagerLoadingError","stack":"SequelizeEagerLoadingError: RoleModel is not associated to RolePermissionModel!\n    at Function._getIncludedAssociation (/app/be/node_modules/sequelize/src/model.js:742:13)\n    at Function._validateIncludedElement (/app/be/node_modules/sequelize/src/model.js:646:53)\n    at <anonymous> (/app/be/node_modules/sequelize/src/model.js:542:37)\n    at Array.map (<anonymous>)\n    at Function._validateIncludedElements (/app/be/node_modules/sequelize/src/model.js:537:39)\n    at Function.findAll (/app/be/node_modules/sequelize/src/model.js:1794:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at RolePermissionRepository.findAll (/app/be/src/repo/RolePermissionRepo.ts:316:28)\n    at RoleToPermissionService.getAllRolePermissions (/app/be/src/services/RoleToPermissionService.ts:584:37)\n    at RoleToPermissionController.getRolePermissions (/app/be/src/controllers/rbac/RoleToPermissionController.ts:128:44)"}
2025-08-04 09:14:04.295 [AIOT-BE] ERROR: Error fetching role permissions: RoleModel is not associated to RolePermissionModel! {"name":"SequelizeEagerLoadingError","stack":"SequelizeEagerLoadingError: RoleModel is not associated to RolePermissionModel!\n    at Function._getIncludedAssociation (/app/be/node_modules/sequelize/src/model.js:742:13)\n    at Function._validateIncludedElement (/app/be/node_modules/sequelize/src/model.js:646:53)\n    at <anonymous> (/app/be/node_modules/sequelize/src/model.js:542:37)\n    at Array.map (<anonymous>)\n    at Function._validateIncludedElements (/app/be/node_modules/sequelize/src/model.js:537:39)\n    at Function.findAll (/app/be/node_modules/sequelize/src/model.js:1794:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at RolePermissionRepository.findAll (/app/be/src/repo/RolePermissionRepo.ts:316:28)\n    at RoleToPermissionService.getAllRolePermissions (/app/be/src/services/RoleToPermissionService.ts:584:37)\n    at RoleToPermissionController.getRolePermissions (/app/be/src/controllers/rbac/RoleToPermissionController.ts:128:44)"}
2025-08-04 09:42:53.237 [AIOT-BE] ERROR: Error in getAllDronePositions {"error":{}}
2025-08-04 09:42:53.253 [AIOT-BE] ERROR: unhandledRejection: next is not a function
TypeError: next is not a function
    at DronePositionController.getAllDronePositions (/app/be/src/controllers/DronePositionController.ts:99:13)
    at <anonymous> (/app/be/src/routes/dronePositionRoutes.ts:63:50)
    at Layer.handle [as handle_request] (/app/be/node_modules/express/lib/router/layer.js:95:5)
    at next (/app/be/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/app/be/src/middlewares/AuthMiddleware.ts:174:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"error":{},"stack":"TypeError: next is not a function\n    at DronePositionController.getAllDronePositions (/app/be/src/controllers/DronePositionController.ts:99:13)\n    at <anonymous> (/app/be/src/routes/dronePositionRoutes.ts:63:50)\n    at Layer.handle [as handle_request] (/app/be/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/be/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/app/be/src/middlewares/AuthMiddleware.ts:174:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","rejection":true,"date":"Mon Aug 04 2025 09:42:53 GMT+0000 (Coordinated Universal Time)","process":{"pid":1299,"uid":0,"gid":0,"cwd":"/app/be","execPath":"/usr/local/bin/node","version":"v18.20.8","argv":["/usr/local/bin/node","/app/be/src/server.ts","./src/server.ts"],"memoryUsage":{"rss":101535744,"heapTotal":37949440,"heapUsed":33355384,"external":4157706,"arrayBuffers":140662}},"os":{"loadavg":[0.85,0.72,0.62],"uptime":20706.25},"trace":[{"column":13,"file":"/app/be/src/controllers/DronePositionController.ts","function":"DronePositionController.getAllDronePositions","line":99,"method":"getAllDronePositions","native":false},{"column":50,"file":"/app/be/src/routes/dronePositionRoutes.ts","function":"<anonymous>","line":63,"method":null,"native":false},{"column":5,"file":"/app/be/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/app/be/node_modules/express/lib/router/route.js","function":"next","line":149,"method":null,"native":false},{"column":13,"file":"/app/be/src/middlewares/AuthMiddleware.ts","function":"authenticate","line":174,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}
2025-08-04 09:44:07.821 [AIOT-BE] ERROR: Error in getAllDronePositions {"error":{}}
2025-08-04 11:14:45.874 [AIOT-BE] ERROR: Error in getAllDroneStatuses {"error":{}}
2025-08-04 11:14:45.885 [AIOT-BE] ERROR: unhandledRejection: next is not a function
TypeError: next is not a function
    at DroneStatusController.getAllDroneStatuses (/app/be/src/controllers/drone/DroneStatusController.ts:84:13)
    at <anonymous> (/app/be/src/routes/drone/droneStatusRoutes.ts:70:48)
    at Layer.handle [as handle_request] (/app/be/node_modules/express/lib/router/layer.js:95:5)
    at next (/app/be/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/app/be/src/middlewares/AuthMiddleware.ts:174:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"error":{},"stack":"TypeError: next is not a function\n    at DroneStatusController.getAllDroneStatuses (/app/be/src/controllers/drone/DroneStatusController.ts:84:13)\n    at <anonymous> (/app/be/src/routes/drone/droneStatusRoutes.ts:70:48)\n    at Layer.handle [as handle_request] (/app/be/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/be/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/app/be/src/middlewares/AuthMiddleware.ts:174:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","rejection":true,"date":"Mon Aug 04 2025 11:14:45 GMT+0000 (Coordinated Universal Time)","process":{"pid":5731,"uid":0,"gid":0,"cwd":"/app/be","execPath":"/usr/local/bin/node","version":"v18.20.8","argv":["/usr/local/bin/node","/app/be/src/server.ts","./src/server.ts"],"memoryUsage":{"rss":111185920,"heapTotal":43454464,"heapUsed":40891720,"external":4218052,"arrayBuffers":201008}},"os":{"loadavg":[0.63,0.46,0.44],"uptime":26680.56},"trace":[{"column":13,"file":"/app/be/src/controllers/drone/DroneStatusController.ts","function":"DroneStatusController.getAllDroneStatuses","line":84,"method":"getAllDroneStatuses","native":false},{"column":48,"file":"/app/be/src/routes/drone/droneStatusRoutes.ts","function":"<anonymous>","line":70,"method":null,"native":false},{"column":5,"file":"/app/be/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/app/be/node_modules/express/lib/router/route.js","function":"next","line":149,"method":null,"native":false},{"column":13,"file":"/app/be/src/middlewares/AuthMiddleware.ts","function":"authenticate","line":174,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}
2025-08-04 11:15:43.907 [AIOT-BE] ERROR: Error in getAllDroneStatuses {"error":{}}
2025-08-04 11:16:00.675 [AIOT-BE] ERROR: Error in getAllDroneStatuses {"error":{}}
2025-08-04 11:48:47.393 [AIOT-BE] ERROR: Error in getAllDroneStatuses {"error":{}}
2025-08-04 11:48:49.583 [AIOT-BE] ERROR: Error in getAllDroneStatuses {"error":{}}
2025-08-04 11:48:53.932 [AIOT-BE] ERROR: Error in getAllDroneStatuses {"error":{}}
2025-08-04 11:49:08.144 [AIOT-BE] ERROR: Error in getAllDroneStatuses {"error":{}}
2025-08-04 11:50:46.158 [AIOT-BE] ERROR: Error in getAllDroneStatuses {"error":{},"errorMessage":"req.get is not a function","errorStack":"TypeError: req.get is not a function\n    at logRequest (/app/be/src/configs/loggerConfig.ts:207:20)\n    at DroneStatusController.getAllDroneStatuses (/app/be/src/controllers/drone/DroneStatusController.ts:66:13)\n    at <anonymous> (/app/be/src/routes/drone/droneStatusRoutes.ts:70:54)\n    at Layer.handle [as handle_request] (/app/be/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/be/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/app/be/src/middlewares/AuthMiddleware.ts:174:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","errorName":"TypeError"}
2025-08-04 11:52:10.052 [AIOT-BE] ERROR: Error in getAllCommands {"error":{}}
2025-08-04 11:52:08.850 [AIOT-BE] ERROR: Error in getAllCommands {"error":{}}
2025-08-04 11:52:11.036 [AIOT-BE] ERROR: Error in getAllCommands {"error":{}}
2025-08-04 11:54:08.483 [AIOT-BE] ERROR: Error in getAllPositionArchives {"error":{}}
2025-08-04 11:54:09.594 [AIOT-BE] ERROR: Error in getAllPositionArchives {"error":{}}
2025-08-04 11:54:11.782 [AIOT-BE] ERROR: Error in getAllPositionArchives {"error":{}}
2025-08-04 11:54:16.133 [AIOT-BE] ERROR: Error in getAllPositionArchives {"error":{}}
2025-08-04 11:54:18.770 [AIOT-BE] ERROR: Error in getAllStatusArchives {"error":{}}
2025-08-04 11:54:19.869 [AIOT-BE] ERROR: Error in getAllStatusArchives {"error":{}}
2025-08-04 11:54:22.052 [AIOT-BE] ERROR: Error in getAllStatusArchives {"error":{}}
